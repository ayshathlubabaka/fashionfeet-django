{% extends 'base.html' %}
{% block content%}
<style>
	.checkout {
 
  border: 0;
  margin-top: 20px;
  padding: 6px 25px;
  background-color: #6b6;
  color: #fff;
  font-size: 20px;
  border-radius: 3px;
}

.checkout:hover {
  background-color: #494;
}

.continue {
 
 border: 0;
 margin-top: 20px;
 padding: 6px 25px;
 background-color: #88c8bc;
 color: #fff;
 font-size: 16px;
 border-radius: 3px;
}

.continue:hover {
 background-color: #298473;
}
.square {
  width: 50px;
  height: 50px;
  border: 1px solid black;
}
.square_x {
  width: 50px;
  height: 50px;
  
}
</style>
{% if not cart_items %}

<div class="container-fluid text-center mt-5">
	<h1>Your Shopping Cart is Empty</h1><br>
	<a href="/product_list" class="continue">Continue Shopping</a>
</div>


{% else %}
		<div class="colorlib-product">
			<div class="container">
				<div class="row row-pb-lg">
					<div class="col-md-12">
						<div class="product-name d-flex">
							<div class="one-forth text-left px-4">
								<span>Product Details</span>
							</div>
							<div class="one-eight text-center">
							</div>
							
							<div class="one-eight text-center">
								<span>Quantity</span>
							</div>
							<div class="one-eight text-center">
								<span></span>
							</div>
							<div class="one-eight text-center">
								<span></span>
							</div>
							<div class="one-eight text-center">
								<span>Total</span>
							</div>
							<div class="one-eight text-center px-4">
								<span></span>
							</div>
							<div class="one-eight text-center px-4">
								<span>Remove</span>
							</div>
						</div>
						{% for c in cart_items %}
						<div class="product-cart d-flex">
							<div class="one-forth">
								<div class="product-img" style="background-image: url('{{ c.product.images.url }}');">
								</div>
								<div class="display-tc">
									<a href="/view_prod/{{c.product.id}}"><h3 style="font-weight: bold;">{{c.product}}</h3></a>
									{% if c.variations.all %}
									  {% for i in c.variations.all %}
									   <h3> {{i.variation_category | capfirst}} : {{i.variation_value | capfirst}}<br>
									  {% endfor %}
									{% endif %}
									Price:{{c.product.price}}</h3>
								</div>
							</div>
							
							<div class="one-eight text-center">
								<div class="display-tc">
									<div class="square">
										<a href="{% url 'remove_cart' c.product.id  c.id%}"><h2 style="color: rgb(235, 58, 73);">-</h2></a>
									</div>
									
								</div>
							</div>
							<div class="one-eight text-center">
								<div class="display-tc">
									<div class="square_x"><h5>{{c.quantity}}</h5></div>
									
								
								</div>
							</div>
							<form action="{% url 'add_cart' c.product.id %}" method="POST">
								{% csrf_token %}
							<div class="one-eight text-center">
								<div class="display-tc">
									<div class="square">
										{% for item in c.variations.all %}
										<input type="hidden" name="{{item.variation_category | lower}}" value="{{item.variation_value | capfirst}}">
										{% endfor %}
									<button class="btn text-center" and style="background-color:transparent" type="submit"><h4 style="color: blue;">+</h4></button>
								</div>
								</div>
							</div>
						</form>
							<div class="one-eight text-center">
								<div class="display-tc">
									
								</div>
							</div>
						
							
							<div class="one-eight text-center">
								<div class="display-tc">
									<span class="price"><h5>Rs.{{c.sub_total}} </h5></span>
								</div>
							</div>
							<div class="one-eight text-center">
								<div class="display-tc">
			
								</div>
							</div>
							<div class="one-eight text-center">
								<div class="display-tc">
									<a href="{% url 'remove_cart_item' c.product.id c.id %}" onclick="return confirm('Are you sure you want to delete this item?')" class="btn btn-danger text-light">Remove</a>
								</div>
							</div>
						</div>
						{% endfor %}
					</div>
				</div>
				<div class="row row-pb-lg">
					<div class="col-md-12">
						<div class="total-wrap">
							<div class="row">
								<div class="col-sm-8">
									<a href="/product_list" class="continue">Continue Shopping</a>
								</div>
								<div class="col-sm-4 text-center">
									<div class="total">
										<div class="sub">
											<p><span>Subtotal:</span> <span>Rs. {{total}}</span></p>
											<p><span>Delivery:</span> <span>Rs. {{delivery_charge}}</span></p>
											<p><span>Discount:</span> <span>Rs. {{discount}}</span></p>
										</div>
										<div class="grand-total">
											<p><span><strong>Total:</strong></span> <span>Rs. {{grand_total}}</span></p>
										</div>
									</div>
									<button class="checkout" ><a href="{% url 'checkout' %}">Checkout</a></button> 
								</div>
								
							</div>
						</div>
					</div>
				</div>
				
				
				</div>
			</div>
		
{% endif %}
		
	{% endblock %}
	